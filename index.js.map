{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/header.js","../src/js/hero.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/events.js","../src/js/footer.js","../src/js/modal-window.js"],"sourcesContent":["import axios from 'axios';\n\n\n// Базовий URL API\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\n\n\n // Запит на список категорій книг \n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}/category-list`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні категорій:', error);\n\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getCategoryList();\n\n\n\n\n// Запит на популярні книги (топ книг) \n\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}/top-books`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні топу книг:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getTopBooks()\n\n\n\n//  Запит на книги певної категорії\n \nexport async function getBooksByCategory(category) {\n  try {\n    const response = await axios.get(`${BASE_URL}/category`, {\n      params: { category },\n    });\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні книг за категорією:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getBooksByCategory(\"Hardcover Fiction\");\n\n\n\n\n//  Запит на детальну інформацію про книгу за ID\n\nexport async function getBookDetails(bookId) {\n  try {\n    const response = await axios.get(`${BASE_URL}/${bookId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні інформації про книгу книги:', error);\n    return null;\n  }\n}\n\n// Для перевірки роботи функції для різних ID\n// getBookDetails('65fc3c9ca957e5c1ae05b6d3');\n\n// getBookDetails('65fc3c9da957e5c1ae05b77c');","const burgerBtn = document.querySelector('.burger-btn');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst closeBtn = document.querySelector('.close-btn');\nconst mobileLinks = document.querySelectorAll('.mobile-nav-link');\n\nburgerBtn.addEventListener('click', () => {\n  mobileMenu.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n});\n\ncloseBtn.addEventListener('click', () => {\n  mobileMenu.classList.remove('is-open');\n  document.body.style.overflow = '';\n});\n\nmobileLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n});\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation, Pagination } from 'swiper/modules';\n// import 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst slides = [\n  {\n    alt: 'A book, sweater and a cup',\n    mob: new URL('../img/hero/slide-1-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-1-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-1-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-1-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-1-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-1-desck@2x.jpg', import.meta.url).href,\n  },\n  {\n    alt: 'A book and glasses',\n    mob: new URL('../img/hero/slide-2-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-2-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-2-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-2-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-2-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-2-desck@2x.jpg', import.meta.url).href,\n  },\n  {\n    alt: 'Bookshelves with lots of books',\n    mob: new URL('../img/hero/slide-3-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-3-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-3-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-3-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-3-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-3-desck@2x.jpg', import.meta.url).href,\n  },\n  {\n    alt: 'A vase with flowers in front of white wall',\n    mob: new URL('../img/hero/slide-4-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-4-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-4-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-4-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-4-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-4-desck@2x.jpg', import.meta.url).href,\n  },\n];\n\nconst overlayTexts = [\n  {\n    subtitle: 'Get 10% off your first order',\n  },\n  {\n    subtitle: 'Save 15% on some books',\n  },\n  {\n    subtitle: 'Summer Sale! Up to -40% discounts',\n  },\n  {\n    subtitle: 'Last chance to buy our spring bestsellers',\n  },\n];\n\nfunction renderSlides(slides) {\n  const container = document.querySelector('#hero-swiper');\n  if (!container) {\n    console.error('[Swiper] Container #hero-swiper not found!');\n    return;\n  }\n\n  const markup = slides\n    .map(\n      slide => `\n        <li class=\"swiper-slide\">\n          <picture>\n            <source srcset=\"${slide.desk} 1x, ${slide.desk2x} 2x\" media=\"(min-width: 1440px)\" />\n            <source srcset=\"${slide.tab} 1x, ${slide.tab2x} 2x\" media=\"(min-width: 768px)\" />\n            <img src=\"${slide.mob}\" srcset=\"${slide.mob2x} 2x\" alt=\"${slide.alt}\" class=\"hero-slide-img\" loading=\"lazy\" />\n          </picture>\n        </li>\n      `\n    )\n    .join('');\n\n  container.innerHTML = markup;\n}\n\nfunction updateButtonsState() {\n  const prev = document.querySelector('.swiper-btn.prev');\n  const next = document.querySelector('.swiper-btn.next');\n\n  if (!swiper || !prev || !next) return;\n\n  prev.disabled = swiper.isBeginning;\n  next.disabled = swiper.isEnd;\n\n  prev.classList.toggle('disabled', swiper.isBeginning);\n  next.classList.toggle('disabled', swiper.isEnd);\n}\n\nfunction updateOverlayText(index) {\n  const subtitleEl = document.querySelector('.hero-subtitle');\n  if (!subtitleEl) return;\n\n  const textData = overlayTexts[index];\n  if (textData) {\n    subtitleEl.textContent = textData.subtitle;\n  }\n}\n\nlet swiper;\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  renderSlides(slides);\n\n  const nextBtn = document.querySelector('.swiper-btn.next');\n  const prevBtn = document.querySelector('.swiper-btn.prev');\n\n  requestAnimationFrame(() => {\n    swiper = new Swiper('.swiper-gallery', {\n      modules: [Navigation, Pagination],\n      slidesPerView: 1,\n      loop: false,\n      allowTouchMove: true,\n      wrapperTag: 'ul',\n      navigation: {\n        nextEl: nextBtn,\n        prevEl: prevBtn,\n      },\n      on: {\n        init: () => {\n          updateButtonsState();\n          updateOverlayText(0); // Показати текст для першого слайду\n        },\n        slideChange: function () {\n          updateButtonsState();\n          updateOverlayText(this.activeIndex);\n        },\n      },\n    });\n  });\n});\n","import {\n  getCategoryList,\n  getTopBooks,\n  getBooksByCategory\n} from './api.js';\n\nconst bookList = document.getElementById('book-list');\nconst showMoreBtn = document.getElementById('show-more-btn');\nconst showingCountSpan = document.getElementById('showing-count');\nconst totalCountSpan = document.getElementById('total-count');\n\nconst categorySelector = document.getElementById('book-category-selector');\nconst categoryButtons = document.querySelectorAll('.book-category-btn');\n\nconst loader = document.querySelector(\".loader\");\n\nlet allBooks = [];\nlet currentIndex = 0;\nlet isInitialRender = true;\n\n// #region Функции.\n\n// #region Для рендеринга.\n\n// #region Лоадер.\nfunction disableLoader() {\n  loader.classList.add(\"book-visually-hidden\");\n}\nfunction enableLoader() {\n  loader.classList.remove(\"book-visually-hidden\");\n}\n// #endregion\n\n// #region Селектор категорий.\nfunction disableCategorySelector() {\n  categorySelector.disabled = true;\n}\nfunction enableCategorySelector() {\n  categorySelector.disabled = false;\n}\n// #endregion\n\n// #region Кнопки категорий.\nfunction disableCategoryButtons() {\n  categoryButtons.forEach(btn => btn.disabled = true);\n}\nfunction enableCategoryButtons() {\n  categoryButtons.forEach(btn => btn.disabled = false);\n}\n// #endregion\n\n// #region Кнопка Show More.\nfunction showShowMoreBtn() {\n  showMoreBtn.classList.remove(\"book-visually-hidden\");\n}\nfunction hideShowMoreBtn() {\n  showMoreBtn.classList.add(\"book-visually-hidden\");\n}\n// #endregion\n\nfunction renderBooks() {\n  const booksToRenderCount = isInitialRender \n    ? (window.innerWidth < 768 ? 10 : 24)\n    : 4;\n\n  const nextBooks = allBooks.slice(currentIndex, currentIndex + booksToRenderCount);\n\n  nextBooks.forEach(book => {\n    const li = document.createElement('li');\n    li.classList.add('book-card');\n    li.innerHTML = `\n      <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title}\" />\n      <div class=\"book-info\">\n        <div class=\"book-subinfo\">\n          <h4 class=\"book-title\">${book.title}</h4>\n          <p class=\"book-author\">${book.author}</p>\n        </div>\n        <p class=\"book-price\">$${book.price ?? 'N/A'}</p>\n      </div>\n      <button class=\"book-learn-btn\" data-id=\"${book._id}\">Learn More</button>\n    `;\n    bookList.appendChild(li);\n  });\n\n  currentIndex += booksToRenderCount;\n  showingCountSpan.textContent = Math.min(currentIndex, allBooks.length);\n\n  if (currentIndex >= allBooks.length) {\n    showMoreBtn.classList.add(\"book-visually-hidden\");\n  }\n\n  isInitialRender = false;\n}\n\nasync function renderShowMoreBtn() {\n  enableLoader();\n  hideShowMoreBtn();\n  renderBooks();\n  showShowMoreBtn();\n  disableLoader();\n}\n// #endregion\n\nasync function showTopBooksByCategory(category) {\n  try {\n    // Скрываем кнопку при переходе на категорию.\n    showMoreBtn.classList.add(\"book-visually-hidden\");\n\n    const topBooksData = await getTopBooks();\n    const categoryTop = topBooksData.find(cat => \n      cat.list_name.toLowerCase() === category.toLowerCase()\n    );\n\n    if (!categoryTop) {\n      bookList.innerHTML = '<p>No books found for this category.</p>';\n      totalCountSpan.textContent = 0;\n      showingCountSpan.textContent = 0;\n      showMoreBtn.style.display = 'none';\n      return;\n    }\n\n    allBooks = categoryTop.books;\n    totalCountSpan.textContent = allBooks.length;\n    renderBooks();\n\n    // Скрываем кнопку \"Show More\", так как это ограниченный список.\n    if (currentIndex >= allBooks.length) {\n      hideShowMoreBtn();\n    } else {\n      showShowMoreBtn();\n    }\n\n  } catch (error) {\n    console.error('Ошибка при загрузке книг категории:', error);\n  }\n}\n\nasync function initBooks() {\n  showMoreBtn.classList.add(\"book-visually-hidden\");\n  disableCategorySelector();\n  disableCategoryButtons();\n\n  // Получаем топ книги\n  const topBooksData = await getTopBooks();\n  const topBooks = topBooksData.flatMap(category => category.books);\n\n  // Получаем список категорий\n  const categories = await getCategoryList();\n\n  // Получаем книги из всех категорий\n  const allRequests = categories.map(cat => getBooksByCategory(cat.list_name));\n  const results = await Promise.all(allRequests);\n\n  // Удаляем дубликаты из топ-книг и книг по категориям\n  const rawBooks = results.flat();\n  const uniqueBooksMap = new Map();\n\n  // Добавляем сначала топ-книги (в приоритете)\n  topBooks.forEach(book => {\n    uniqueBooksMap.set(book._id, book);\n  });\n\n  // Добавляем остальные книги, если их нет среди топов\n  rawBooks.forEach(book => {\n    if (!uniqueBooksMap.has(book._id)) {\n      uniqueBooksMap.set(book._id, book);\n    }\n  });\n\n  allBooks = Array.from(uniqueBooksMap.values());\n\n  totalCountSpan.textContent = allBooks.length;\n  renderBooks();\n\n  // Показываем кнопку \"Show More\", если есть что еще показывать\n  if (currentIndex >= allBooks.length) {\n    hideShowMoreBtn();\n  } else {\n    showShowMoreBtn();\n  }\n\n  enableCategoryButtons();\n  enableCategorySelector();\n\n  disableLoader();\n}\n// #endregion\n\n// #region Выбор категории селектором.\ncategorySelector.addEventListener('change', async () => {\n  enableLoader();\n\n  const selectedCategory = categorySelector.value;\n\n  bookList.innerHTML = '';\n  currentIndex = 0;\n  isInitialRender = true;\n\n  if (selectedCategory === 'all') {\n    await initBooks();\n  } else {\n    await showTopBooksByCategory(selectedCategory);\n    enableCategorySelector();\n    disableLoader();\n  }\n});\n// #endregion\n// #region Выбор категории кнопками.\ncategoryButtons.forEach(button => {\n  button.addEventListener('click', async () => {\n    enableLoader();\n\n    const selectedCategory = button.getAttribute('data-category');\n\n    disableCategoryButtons();\n\n    categoryButtons.forEach(btn => btn.classList.remove('active'));\n    button.classList.add('active');\n\n    bookList.innerHTML = '';\n    currentIndex = 0;\n    isInitialRender = true;\n\n    if (selectedCategory === 'all') {\n      await initBooks();\n    } else {\n      await showTopBooksByCategory(selectedCategory);\n      enableCategoryButtons();\n      disableLoader();\n    }\n  });\n});\n// #endregion\nshowMoreBtn.addEventListener('click', renderShowMoreBtn);\n\ninitBooks();","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.feedbacks .swiper', {\n    modules: [Navigation, Pagination, Keyboard],\n\n    slidesPerView: 1,\n    spaceBetween: 24,\n    breakpoints: {\n        768: {\n            slidesPerView: 2\n        },\n        1440: {\n            slidesPerView: 3\n        }\n    },\n    navigation: {\n        nextEl: \".feedbacks .swiper-button-next\",\n        prevEl: \".feedbacks .swiper-button-prev\"\n    },\n    pagination: {\n        el: \".feedbacks .swiper-pagination\"\n    },\n    keyboard: {\n        enabled: true\n    }\n});\n\nfeedbacksSwiper.on(\"keyPress\", (swiper, keyCode) => {\n    if (keyCode === 9) {\n        swiper.slideNext();\n    }\n});","const slides = document.querySelectorAll('.events-item');\nconst indicators = document.querySelectorAll('.events-indicator');\nconst prevBtn = document.getElementById('prevBtn');\nconst nextBtn = document.getElementById('nextBtn');\n\n// Змінні для відстеження поточного стану\nlet currentSlide = 0;       // Для мобільних\nlet currentPage = 0;        // Для планшетів\nconst totalSlides = slides.length;\n\n// Функція для оновлення відображення\nfunction updateDisplay() {\n    // Перевіряємо розмір екрану\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        // Логіка для планшетів\n        hideAllSlides();\n        \n        if (currentPage === 0) {\n            // Показуємо перші 2 події\n            slides[0].style.display = 'block';\n            if (slides[1]) slides[1].style.display = 'block';\n        } else {\n            // Показуємо третю подію\n            if (slides[2]) slides[2].style.display = 'block';\n        }\n        \n        updateIndicators(currentPage);\n        updateButtons(currentPage, 1); // Максимум 2 сторінки\n    } else {\n        // Логіка для мобільних\n        hideAllSlides();\n        slides[currentSlide].style.display = 'block';\n        \n        updateIndicators(currentSlide);\n        updateButtons(currentSlide, totalSlides - 1);\n    }\n}\n\n// Функція для приховування всіх слайдів\nfunction hideAllSlides() {\n    slides.forEach(slide => {\n        slide.style.display = 'none';\n    });\n}\n\n// Функція для оновлення індикаторів\nfunction updateIndicators(activeIndex) {\n    indicators.forEach((indicator, index) => {\n        if (index === activeIndex) {\n            indicator.classList.add('active');\n        } else {\n            indicator.classList.remove('active');\n        }\n    });\n}\n\n// Функція для оновлення кнопок\nfunction updateButtons(current, max) {\n    prevBtn.disabled = (current === 0);\n    nextBtn.disabled = (current === max);\n}\n\n// Функція для переходу назад\nfunction goToPrevious() {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        if (currentPage > 0) {\n            currentPage = currentPage - 1;\n            updateDisplay();\n        }\n    } else {\n        if (currentSlide > 0) {\n            currentSlide = currentSlide - 1;\n            updateDisplay();\n        }\n    }\n}\n\n// Функція для переходу вперед\nfunction goToNext() {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        if (currentPage < 1) {\n            currentPage = currentPage + 1;\n            updateDisplay();\n        }\n    } else {\n        if (currentSlide < totalSlides - 1) {\n            currentSlide = currentSlide + 1;\n            updateDisplay();\n        }\n    }\n}\n\n// Функція для переходу до конкретного слайду/сторінки\nfunction goToSpecific(index) {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        currentPage = index;\n    } else {\n        currentSlide = index;\n    }\n    updateDisplay();\n}\n\n// Підключаємо обробники подій\nprevBtn.addEventListener('click', goToPrevious);\nnextBtn.addEventListener('click', goToNext);\n\n// Обробники для індикаторів\nindicators.forEach((indicator, index) => {\n    indicator.addEventListener('click', function() {\n        goToSpecific(index);\n    });\n});\n\n// Навігація клавіатурою\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'ArrowLeft') {\n        goToPrevious();\n    }\n    if (event.key === 'ArrowRight') {\n        goToNext();\n    }\n});\n\n// Обробка зміни розміру вікна\nwindow.addEventListener('resize', updateDisplay);\n\n// Обробники для кнопок Register\ndocument.querySelectorAll('.events-register').forEach(function(button) {\n    button.addEventListener('click', function() {\n        const eventName = this.closest('.events-item').querySelector('.events-name').textContent;\n        openModal(eventName);\n    });\n});\n\n// Функції для модального вікна\nfunction openModal(eventName) {\n    const modal = document.getElementById('contactModal');\n    const eventNameElement = document.getElementById('modalEventName');\n    \n    eventNameElement.textContent = eventName;\n    modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n    const modal = document.getElementById('contactModal');\n    modal.classList.remove('active');\n    document.body.style.overflow = '';\n    \n    // Очищаємо форму\n    document.getElementById('modalForm').reset();\n}\n\n// Обробники подій для модального вікна\ndocument.getElementById('closeModal').addEventListener('click', closeModal);\n\n// Закриття по кліку на фон\ndocument.getElementById('contactModal').addEventListener('click', function(event) {\n    if (event.target === this) {\n        closeModal();\n    }\n});\n\n// Закриття по Escape\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\n// Обробка відправки форми\ndocument.getElementById('modalForm').addEventListener('submit', function(event) {\n    event.preventDefault();\n    \n    const formData = new FormData(this);\n    const name = formData.get('name');\n    const email = formData.get('email');\n    const message = formData.get('message');\n    \n    console.log('Form submitted:', { name, email, message });\n    alert('Дякуємо за реєстрацію!');\n    \n    closeModal();\n});\n\n// Запускаємо при завантаженні сторінки\nupdateDisplay();\n\n\n// Зачем всё это? Буквально же в API свайпера есть штука для разного вьюпорта...","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Отримуємо форму підписки та поле для вводу e-mail\nconst formElement = document.querySelector('.sub-form');\nconst emailInput = document.querySelector('#user-email');\n\n// Додаємо обробник події на відправку форми\nformElement.addEventListener('submit', processFormSubmission);\n\nfunction processFormSubmission(e) {\n  e.preventDefault();\n\n  const enteredEmail = emailInput.value.trim();\n  const isEmailValid = validateEmailFormat(enteredEmail);\n\n  // Перевірка коректності e-mail\n  if (!isEmailValid) {\n    showToast('error', 'Invalid Input', 'Please provide a valid email address');\n    return;\n  }\n\n  const existingEmails = getStoredEmails();\n\n  // Перевірка на те чи вже підписаний користувач\n  if (isEmailRegistered(existingEmails, enteredEmail)) {\n    showToast('warning', 'Already Subscribed', 'This email is already on the list');\n    resetForm();\n    return;\n  }\n\n  // Додаємо нову адресу до списку та зберігаємо\n  storeEmail(existingEmails, enteredEmail);\n  showToast('success', 'Subscribed', 'You have successfully joined the list');\n  resetForm();\n}\n\n// Валідація e-mail за допомогою регулярного виразу\nfunction validateEmailFormat(email) {\n  const pattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return pattern.test(email);\n}\n\n// Отримуємо збережені e-mail з localStorage\nfunction getStoredEmails() {\n  const data = localStorage.getItem('subscriptionList');\n  return data ? JSON.parse(data) : [];\n}\n\n// Перевірка на те чи e-mail вже є у списку\nfunction isEmailRegistered(list, email) {\n  return list.includes(email);\n}\n\n// Додаємо новий e-mail до списку та оновлюємо localStorage\nfunction storeEmail(list, email) {\n  list.push(email);\n  localStorage.setItem('subscriptionList', JSON.stringify(list));\n}\n\n// Відображення сповіщення за допомогою iziToast\nfunction showToast(type, title, msg) {\n  iziToast[type]({\n    title: title,\n    message: msg,\n    position: 'topRight',\n  });\n}\n\n// Скидаємо значення форми після обробки\nfunction resetForm() {\n  formElement.reset();\n}","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { getBookDetails } from './api';\nimport '../css/modal-window.css';\n\n// console.log('Modal script подключился!');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const backdrop = document.querySelector('.modal-backdrop');\n  const quantityEl = document.getElementById('quantity');\n  const closeBtn = document.querySelector('.modal-close');\n\n  let currentQuantity = 1;\n\n  if (!backdrop || !quantityEl || !closeBtn) {\n    console.warn('Элементы модалки не найдены');\n    return;\n  }\n\n  // Делегирование для любых кнопок внутри страницы с data-id\n  document.addEventListener('click', e => {\n    const btn = e.target.closest('[data-id]');\n    if (!btn) return;\n\n    const bookId = btn.dataset.id;\n    // console.log('Клик по кнопке с id:', bookId);\n    if (bookId) openModal(bookId);\n  });\n\n  // Клик по затемнению или крестику — закрыть модалку\n  backdrop.addEventListener('click', e => {\n    if (\n      e.target.classList.contains('modal-backdrop') ||\n      e.target.closest('.modal-close')\n    ) {\n      closeModal();\n    }\n  });\n\n  // Закрытие по Esc\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeModal();\n  });\n\n  // Управление количеством\n  document.addEventListener('click', e => {\n    if (e.target.classList.contains('decrement')) decreaseQuantity();\n    if (e.target.classList.contains('increment')) increaseQuantity();\n    if (e.target.classList.contains('add-to-cart')) addToCart();\n    if (e.target.classList.contains('buy-now')) buyNow(e);\n  });\n\n  // убираем баг с дублированием аккордеонов при открытии\n  let accordionInstance = null;\n\n  async function openModal(bookId) {\n    const data = await getBookDetails(bookId);\n    if (!data) {\n      console.warn('Нет данных по книге');\n      return;\n    }\n\n    document.getElementById('modal-title').textContent = data.title;\n    document.getElementById('modal-author').textContent = data.author;\n    document.getElementById('modal-price').textContent = `$${data.price}`;\n    document.getElementById('modal-book-image').src = data.book_image;\n    document.getElementById('modal-book-image').alt = data.title;\n    document.getElementById('details-text').textContent =\n      data.description || 'No description';\n    document.getElementById('shipping-text').textContent =\n      'We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.';\n    document.getElementById('returns-text').textContent =\n      'You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.';\n\n    quantityEl.textContent = 1;\n    currentQuantity = 1;\n\n    backdrop.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n\n    // Если аккордеон уже существует — уничтожаем\n    if (accordionInstance) {\n      accordionInstance.destroy();\n\n      // Жёсткий сброс инлайн-стилей\n      document.querySelectorAll('.ac-panel').forEach(panel => {\n        panel.style.height = '';\n        panel.style.display = '';\n      });\n    }\n\n    // Создаём новый аккордеон и сохраняем в переменную\n    accordionInstance = new Accordion('#accordion', {\n      duration: 300,\n      showMultiple: true,\n      openOnInit: [0],\n    });\n  }\n\n  function closeModal() {\n    backdrop.classList.add('is-hidden');\n    document.body.style.overflow = '';\n    // Уничтожаем аккордеон и чистим стили при закрытии\n    if (accordionInstance) {\n      accordionInstance.destroy();\n      accordionInstance = null;\n\n      document.querySelectorAll('.ac-panel').forEach(panel => {\n        panel.style.height = '';\n        panel.style.display = '';\n      });\n    }\n  }\n\n  function increaseQuantity() {\n    currentQuantity++;\n    quantityEl.textContent = currentQuantity;\n  }\n\n  function decreaseQuantity() {\n    if (currentQuantity > 1) {\n      currentQuantity--;\n      quantityEl.textContent = currentQuantity;\n    }\n  }\n\n  function addToCart() {\n    console.log(`Додано у корзину: ${currentQuantity} шт.`);\n  }\n\n  function buyNow(e) {\n    e.preventDefault();\n    alert('Дякуємо за покупку');\n  }\n});\n"],"names":["BASE_URL","getCategoryList","response","axios","error","getTopBooks","getBooksByCategory","category","getBookDetails","bookId","burgerBtn","mobileMenu","closeBtn","mobileLinks","link","slides","overlayTexts","renderSlides","container","markup","slide","updateButtonsState","prev","next","swiper","updateOverlayText","index","subtitleEl","textData","nextBtn","prevBtn","Swiper","Navigation","Pagination","bookList","showMoreBtn","showingCountSpan","totalCountSpan","categorySelector","categoryButtons","loader","allBooks","currentIndex","isInitialRender","disableLoader","enableLoader","disableCategorySelector","enableCategorySelector","disableCategoryButtons","btn","enableCategoryButtons","showShowMoreBtn","hideShowMoreBtn","renderBooks","booksToRenderCount","book","li","renderShowMoreBtn","showTopBooksByCategory","categoryTop","cat","initBooks","topBooks","allRequests","rawBooks","uniqueBooksMap","selectedCategory","button","feedbacksSwiper","Keyboard","keyCode","indicators","currentSlide","currentPage","totalSlides","updateDisplay","hideAllSlides","updateIndicators","updateButtons","activeIndex","indicator","current","max","goToPrevious","goToNext","goToSpecific","event","eventName","openModal","modal","eventNameElement","closeModal","formData","name","email","message","formElement","emailInput","processFormSubmission","enteredEmail","validateEmailFormat","showToast","existingEmails","getStoredEmails","isEmailRegistered","resetForm","storeEmail","data","list","type","title","msg","iziToast","backdrop","quantityEl","currentQuantity","e","decreaseQuantity","increaseQuantity","addToCart","buyNow","accordionInstance","panel","Accordion"],"mappings":"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"}